import com.github.pambrose.slides.SlideDeck.Companion.slideDeck

val introductionPage = """ 
    <div style="text-align:center;">
    <div style="padding-top:10px;">
    <font size="+3">
    Introduction 
    </font>
    </div>
    <div style="text-align:left;padding-top:30px;padding-bottom:10px;">
    <font size="+1">
    Your name is Moses. Your mother, Nancy was an Enslaved African, but your 
    father was named Henry, a white slave owner. A few years after you were 
    born Henry’s wife grew very suspicious that her husband was your father.
    After some investigative work, it was revealed to be true. In a short 
    amount of time you and your mother were sold to a cruel slave owner name 
    Mr. Gooch. He seemed to revel in punishing those he owned. Your days 
    were filled with hard toil in the fields and the fear of physical 
    punishment. You began to contemplate whether it was time to runaway.
    If you are caught the punishment will be severe, but there is a chance of freedom.
    </font>
    </div>
    </div> 
"""

val errorText = "Incorrect. Try again."

val decision1Text = """
  You are on the way home from a exhausting day of harvesting rice, when a 
  friend motions for you to come over and chat. He has heard that you are 
  in line to be punished for not taking proper care of tools. You cannot 
  stand the thought of suffering another lashing. But maybe the rumor isn’t 
  true and you are in the clear.
  
  Options:
"""

val decision2Text = """
  As you and your fellow Enslaved Africans head back to the plantation you lag behind 
  and quietly sneak into the woods. You now realize you have little provisions and 
  no real plan of escape. 

  Options:
"""

val decision3Text = """
  You travel close the road by night. After a week of travel you are awoken abruptly 
  during the day as you sleep by a very surly man. He accuses you of being a fugitive 
  and marches you off to the local jail. Eventually you are collected by Mr. Gooch.
  Upon returning to the plantation, you are put in leg irons and then sent into the 
  woods to chop down lumber.
  
  Options:
"""

val decision4Text = """
  It takes a few hours and is very painful, but you manage to slip the irons off.
  You head into the woods fearful of what might follow you and after a few hours 
  you come to river that is 50 yards across.

  Options:
"""

val decision5Text = """
  You travel upriver looking for a shallow or narrow place to cross.
  Luck is with you today and you find a canoe of Native American origin.
  You set the canoe out into the river and paddle across to the other side.
  You feel really good putting some distance between you and your former owner.
  You travel through the woods until you come to a road. You decide to follow 
  the road, however after a few days you are weakened by hunger. As you stumble 
  along you come to a farm.

  Options:
"""

val decision6Text = """
  You rummage around the barn and find some food. 
  Exhausted, you fall asleep in a pile of hay. 
  You are not sure how long you sleep for, but you are awoken by an 
  African American man.

  Options:
"""

val decision7Text = """
  You tell him you are free. He asks for your papers proving you are free. 
  Which you do not have. He tells you to get out of here before you get 
  him in trouble. It is the middle of the day and you amble down the road. 
  As you head down the road you see a wagon just ahead.

  Options:
"""

val decision8Text = """
  You approach the group and tell them you are on an errand for your master. 
  They offer to accompany you to your destination. 
  As you travel with them you realize you recognize the country you are 
  travelling through. You realize you are close to the plantation you were born on. 
  You haven’t seen your mother since you were sold away.

  Options:
"""

val decision9Text = """
  You make your way to the plantation where you spent the first ten years 
  of your live. Along the way you encounter a young African American girl.

  Options:
"""

val decision10Text = """
  You ignore the girl and keep walking past her. 
  You walk into the night and as you near the plantation of your youth you are 
  ambushed by a patrol out looking for fugitives. 
  All white southerners regardless of whether they are slave owners or not 
  must do patrol duty. 
  You are hit over the head with a club and marched off to the gaols. 
  After a few days you are placed shackled, on a horse and you start to travel. 
  As you rest one day you see a strangely dressed man. 
  He walks close to you and appears to hand you an object. 
  You could be severely punished for accepting any gift, but maybe this man is 
  trying to help you.

  Options:
"""

val decision11Text = """
  The object is made out of iron and it is about ten inches long. 
  It has a sharp point, but is otherwise flat and rough on both sides.

  Options:
"""

val decision12Text = """
  You discreetly break a link on the chains and now your hands are free. 
  Your captors have stopped by an inn to have lunch. 
  They could be out any moment.

  Options:
"""

val decision13Text = """
  You grab a switch a whack your horse in the hindquarters. 
  And like that your horse is sprinting down the street and heading out of town. 
  You hang on for dear life, never having travelled this fast in your life. 
  All of a sudden you hear a shot ring out.

  Options:
"""

val decision14Text = """
  You pull on the reins and bring your horse to a halt. 
  You are quickly surrounded by your pursuers. 
  You are hit in the side of the head by a rifle but and knocked unconscious. 
  When you come to you are chained to a female enslaved African, Eliza, and 
  you have 20 pound bars of iron shackled to each leg. 
  You can sense with each day you are getting closer and closer to the plantation 
  of your owner. 
  Any day now you will be returned to your owner. 
  One night all the guards fall asleep.

  Options:
"""

val decision15Text = """
  The two of you quietly slip away from the crude camp. 
  Although you are heavily encumbered you eventually make it 50 yards 
  away and then you pick up the pace.

  Options:
"""

val decision16Text = """
  You find a suitable rock to try and break a link in the chains binding you together. 
  You bring the rock up and drive it down onto a link near your co-captive’s neck. 
  It works and you are untethered. As you travel a heavy rain sets in. 
  Now you can travel much more quickly and you soon arrive at a river.

  Options:
"""

val decision17Text = """
  You move upstream looking for a safe crossing. 
  Amazingly you find another canoe and jump in. 
  There is no paddle so the two of you use your hands to navigate across the 
  fast-moving river. The rain has the river swollen to capacity and you careen 
  into a rock and miraculously scamper on top as the canoe is smashed into splinters. 
  The two of you cling to the rock as the water level rises, hoping that the rain ceases. 
  And just as you are about to swept away the water recedes. 
  You eventually are able to wade through the shallows to shore and fall fast asleep. 
  You awake and meet an Enslaved African who offers to provide you with food if you 
  return with him to his plantation.
  
  Options:
"""

val decision18Text = """
  You make it to his plantation and he leads you inside his quarters and offers you 
  some food. All of a sudden he is startled by the noise of some approaching.

  Options:
"""

val decision19Text = """
  The two of you hide under blankets and you go unnoticed as the master of the 
  plantation enters to inquire about the harvest. 
  You cannot believe that you are not discovered. 
  That night you decide to head off. 
  You think you know someone on a plantation close by, perhaps they could help you.

  Options:
"""

val decision20Text = """
  You enter the plantation as the sun goes down and attempt to find you friend. 
  However, a pair of dogs sniffs you out and alerts others to your presence. 
  You are apprehended and marched off to the local gaols to await your repatriation 
  to the wicked Mr. Gooch. The first night you are imprisoned next to a man condemned 
  to die for his crimes. 
  All night long you are kept awake by his moaning and wailing. You will remember 
  for the rest of your life is his tearful prayers begging for mercy. 
  After a few weeks a representative from your owner arrives to pick you up. 
  You are made to jog at a brisk pace to keep up and upon your arrival are subjected 
  to the worst torture yet, the dreaded cotton screw.
  After your most recent capture you are so dejected, how much longer must you endure 
  this existence. Once again the blacksmith attaches shackles to your ankles, once 
  again you are marched out to the fields to harvest rice. Your spirit is crushed, 
  can you make one more attempt?

  Options:
"""

val decision21Text = """
  For the time being you give up your dream of freedom. 
  After a few months have passed a strange thing happens. 
  An unfamiliar man arrives and speaks with Mr. Gooch. 
  A short time later the overseer comes down and tells you to follow him. 
  You ask what is going on and you are told you are being sold.
  The man is taking you to Missouri.
  You quickly bid farewell to some of your friends and you are off on the road 
  marching to your future.
  You are eventually brought to a person named Mr. Cowpens.
  He is a very kind owner and live is tolerable.

  Options:
"""

val decision22Text = """
  You stay with Mr. Cowpens and work as a domestic servant.
  This life is much more bearable from life with Mr. Gooch.
  You put on some weight and you have moments of joy.
  Unfortunately your new owner becomes progressively ill.
  A few months after you arrive at your new owners house he succumbs to consumption.
  After his death, his estate is divvied up and you are sold to pay off his debts.
  After you are sold you are put on a wagon and you head to an auction in Florida.
  As you travel south, you have an opportunity to steal the keys to your shackles.

  Options:
"""

val decision23Text = """
  You are successful in your attempt to steal the keys.
  That night you quietly unlock your bonds and slip into the night.
  After your stay with Mr. Cowpens you look much more respectable and 
  you feel your chances of deceiving people about your slave status is good.
  You see a sign on the road, and although you cannot read, you can make out 
  enough that one way is to Savannah, a busy Georgia port and one continues 
  on to the north.

  Options:
"""

val decision24Text = """
  You make your way down the road to Savannah.
  You travel by night and sleep in the woods during the day.
  One night as you travel you encounter a minister walking along the road.

  Options:
"""

val decision25Text = """
  The minister offers to walk with you to Savannah and help you find your master.
  You are now with in five miles of the city.

  Options:
"""

val decision26Text = """
  You ditch the minister and after a few hours you encounter some African American 
  men driving cattle.
  The greet you and ask you where you are headed.
  The men are all enslaved from a plantation out of town.
  They are bringing the cattle into Savannah to sell.
  You notice there is a little boy who is writing in a note-book as he walks 
  along with his father.

  Options:
"""

val decision27Text = """
  The boy writes you a pass saying you are free to travel to Savannah unaccompanied.
  Even though you cannot read, you are concerned the kid’s writing will look childish 
  or something will give it away.

  Options:
"""

val decision28Text = """
  As you enter the city you are stopped by a sheriff.
  Being a port city, they are always on the lookout for runaways.
  He takes your pass which has been smudged by water.
  He asks you what happened and you inform him that you fell into a stream 
  while your were taking care of some horses.
  He seems to buy your alibi and let’s you move on.
  As you walk through the bustling city you make it to the waterfront and 
  see many tall ships.

  Options:
"""

val decision29Text = """
  You ask around for a ship captain.
  Eventually you are directed to a man who is the captain of the SS Fox.
  You approach him and ask if he is in need of your services.
  He asks if you have any sailing experience.
  You respond, that you do not, but you could serve some other task.
  He hires you as a laborer and gets you situated on the ship.
  However, the days pass and you still have not left harbor.
  You start to get nervous.
  Maybe you should look for work on another ship that is leaving sooner.

  Options:
"""

val successText = """
  You decide to stay with the SS Fox.
  Each day you nervously attempt to keep busy and hope you will not be 
  discovered by authorities.
  You are pretty sure the captain knows you are a fugitive, but he seems not to mind.
  Finally, you set sail.
  The trip takes ten days and during the voyage the rest of the crew is 
  verbally and physically abusive towards you.
  However, you finally make it to Staten Island in the free state of New York.
  As you disembark from the ship a man approaches you offers you assistance.
  He is a member of a committee that helps runaway Enslaved Africans.
  For the first time in your life you are free of fear and the oppression of a master.

  The End
"""

val slides2 =
  slideDeck {

    val errorSlide = slide(99, "Incorrect Answer", errorText, displayTitle = false) {}

    val slideSuccess = slide(30, "Success!", successText, success = true)

    val slide29 = slide(29, "29th Decison", decision29Text) {
      choice("Stay with the SS Fox", slideSuccess)
      choice("Ask the captain when the ship will be departing", errorSlide.copyOf("Incorrect1"))
      choice("Look for a new ship", errorSlide.copyOf("Incorrect2"))
    }

    val slide28 = slide(28, "28th Decison", decision28Text) {
      choice("Attempt to sneak onto a ship and stow away", errorSlide.copyOf("Incorrect1"))
      choice("Attempt to find work on a ship heading north", slide29)
    }

    val slide27 = slide(27, "27th Decison", decision27Text) {
      choice("Use it despite your concerns", errorSlide.copyOf("Incorrect1"))
      choice("Abandon the plan to use it", errorSlide.copyOf("Incorrect2"))
      choice("Try to blur the ink by getting it wet", slide28)
      choice("Try to obscure the writing by rubbing dirt over it", errorSlide.copyOf("Incorrect3"))
    }

    val slide26 = slide(26, "26th Decison", decision26Text) {
      choice("Ask the child to write you a pass saying you are free to travel to Savannah", slide27)
      choice("Keep travelling and hope you won’t need documents to avoid arrest", errorSlide.copyOf("Incorrect1"))
      choice(
        "Ask the child to write a document stating you are a free African American",
        errorSlide.copyOf("Incorrect2")
      )
    }

    val slide25 = slide(25, "25th Decison", decision25Text) {
      choice("Stay with the minister all the way into the city", errorSlide.copyOf("Incorrect1"))
      choice(
        "After spending time with the minister, you tell him your true predicament, that you are fugitive and ask him for help",
        errorSlide.copyOf("Incorrect2")
      )
      choice("Slip away from the minister and head into the woods", slide26)
    }

    val slide24 = slide(24, "24th Decison", decision24Text) {
      choice("Tell this man of God you are a fugitive and seek his assistance", errorSlide.copyOf("Incorrect1"))
      choice("Tell him you are off running errands for your master", errorSlide.copyOf("Incorrect2"))
      choice(
        "Tell him you were given the day off to go visit family on another plantation",
        errorSlide.copyOf("Incorrect3")
      )
      choice(
        "Tell him you were separated from your master who is headed for Savannah and you are trying to catch up",
        slide25
      )
    }

    val slide23 = slide(23, "23rd Decison", decision23Text) {
      choice("Continue north", errorSlide.copyOf("Incorrect1"))
      choice("Head to Savannah", slide24)
      choice("Wait at the crossing and see if you can learn more about the options", errorSlide.copyOf("Incorrect2"))
    }

    val slide22 = slide(22, "22nd Decison", decision22Text) {
      choice("You have to take advantage of this opportunity, you attempt to steal the keys", slide23)
      choice(
        "You are worried you will get caught and you wait for a better opportunity",
        errorSlide.copyOf("Incorrect1")
      )
    }

    val slide21 = slide(21, "21st Decison", decision21Text) {
      choice("Stay put and see how this new situation unfolds", slide22)
      choice(
        "Talk to fellow Enslaved Africans to gather information about escaping in this new location",
        errorSlide.copyOf("Incorrect1")
      )
      choice("Attempt to run away that evening", errorSlide.copyOf("Incorrect2"))
    }

    val slide20 = slide(20, "20th Decison", decision20Text) {
      choice("Seek the first opportunity to escape again", errorSlide.copyOf("Incorrect1"))
      choice("Stay put for the time being", slide21)
    }

    val slide19 = slide(19, "19th Decison", decision19Text) {
      choice("Try and find your friend on the nearby plantation", slide20)
      choice("Continue to travel through the woods", errorSlide.copyOf("Incorrect1"))
      choice("Travel along the road, at night", errorSlide.copyOf("Incorrect2"))
    }

    val slide18 = slide(18, "18th Decison", decision18Text) {
      choice("Hide under some blankets", slide19)
      choice("Run outside.", errorSlide.copyOf("Incorrect1"))
      choice("Act as if you belong there", errorSlide.copyOf("Incorrect2"))
    }

    val slide17 = slide(17, "17th Decison", decision17Text) {
      choice("Return with him to the plantation where he is enslaved", slide18)
      choice("Politely decline and continue on", errorSlide.copyOf("Incorrect1"))
      choice("Deceive him and tell him you are on an errand for your master", errorSlide.copyOf("Incorrect2"))
    }

    val slide16 = slide(16, "16th Decison", decision16Text) {
      choice("Swim across the river", errorSlide.copyOf("Incorrect1"))
      choice(
        "Look for a crossing upstream, where the river looks narrower, but faster",
        errorSlide.copyOf("Incorrect2")
      )
      choice("Look for downstream for a bridge or watercraft", slide17)
    }

    val slide15 = slide(15, "15th Decison", decision15Text) {
      choice("Find a place to hide and wait for your captors to move on", errorSlide.copyOf("Incorrect1"))
      choice("Try and break the shackles, thus increasing your speed", slide16)
      choice("Keep moving shackled together", errorSlide.copyOf("Incorrect2"))
    }

    val slide14 = slide(14, "14th Decison", decision14Text) {
      choice(
        "It seems desperate given your situation, but you convince the woman whom you are chained to, to sneak off",
        slide15
      )
      choice(
        "There is no way you can escape right now, you wait for a better opportunity",
        errorSlide.copyOf("Incorrect1")
      )
      choice(
        "There is no way you can escape right now, you wait for a better opportunity",
        errorSlide.copyOf("Incorrect2")
      )
    }

    val slide13 = slide(13, "13th Decison", decision13Text) {
      choice("Keep running atop your horse", errorSlide.copyOf("Incorrect1"))
      choice("Head the warning and stop", slide14)
      choice("Dismount the horse and take off on foot into the woods", errorSlide.copyOf("Incorrect2"))
    }

    val slide12 = slide(12, "12th Decison", decision12Text) {
      choice("Quietly dismount and attempt to sneak out of town on foot", errorSlide.copyOf("Incorrect1"))
      choice("Start slowly walking away on top of your horse", errorSlide.copyOf("Incorrect2"))
      choice("Wait until later to escape", errorSlide.copyOf("Incorrect3"))
      choice("Grab a stick and whip your horse to make a speedy getaway", slide13)
    }

    val slide11 = slide(11, "11th Decison", decision11Text) {
      choice(
        "At night, when the guards are asleep, you try and use the object to file through your chains",
        errorSlide.copyOf("Incorrect1")
      )
      choice("You wait until you are left alone to file through your chains", slide12)
      choice("You wait for an opportunity to stab on of your captors with it", errorSlide.copyOf("Incorrect2"))
      choice(
        "You stab a horse with the object, hoping to cause commotion and sneak away",
        errorSlide.copyOf("Incorrect3")
      )
    }

    val slide10 = slide(10, "10th Decison", decision10Text) {
      choice("Don’t take it", errorSlide.copyOf("Incorrect1"))
      choice("Subtly take it", slide11)
      choice("Examine the object before taking it", errorSlide.copyOf("Incorrect2"))
    }

    val slide9 = slide(9, "9th Decison", decision9Text) {
      choice("You ask the girl if she knows your mother", errorSlide.copyOf("Incorrect1"))
      choice("Having second thoughts, you ignore her and keep travelling", slide10)
    }

    val slide8 = slide(8, "8th Decison", decision8Text) {
      choice("You sneak away to see your mother", slide9)
      choice("You stay with the wagon train", errorSlide.copyOf("Incorrect1"))
    }

    val slide7 = slide(7, "7th Decison", decision7Text) {
      choice("You run into the woods, trying to hide from the passers by", errorSlide.copyOf("Incorrect1"))
      choice("You approach the group and tell them you are on an errand for your master", slide8)
      choice(
        "You approach the group and tell them you are a free African American travelling home after visiting family",
        errorSlide.copyOf("Incorrect2")
      )
    }

    val slide6 = slide(6, "6th Decison", decision6Text) {
      choice("Tell this stranger you have run away", errorSlide.copyOf("Incorrect1"))
      choice("Tell the gentleman you are a free African American", slide7)
      choice("Tell him you are lost and ask for directions to nearest town", errorSlide.copyOf("Incorrect2"))
    }

    val slide5 = slide(5, "5th Decison", decision5Text) {
      choice("Bypass the farm and continue on your way", errorSlide.copyOf("Incorrect1"))
      choice("Knock on the door and ask for assistance", errorSlide.copyOf("Incorrect2"))
      choice("Sneak into the barn and look for food", slide6)
    }

    val slide4 = slide(4, "4th Decison", decision4Text) {
      choice("You aren’t a strong swimmer, you head back the direction you came from", errorSlide.copyOf("Incorrect1"))
      choice("Attempt to swim across the river", errorSlide.copyOf("Incorrect2"))
      choice("Investigate along the shoreline and look for a place to wade across\n", errorSlide.copyOf("Incorrect3"))
      choice("Head up river looking for either a bridge or a watercraft of some sort", slide5)
    }

    val slide3 = slide(3, "3rd Decision", decision3Text) {
      choice(
        "This is not a good time to escape, you should wait and devise a better plan",
        errorSlide.copyOf("Incorrect1")
      )
      choice(
        "This is a great opportunity to escape, you can’t waste any time to remove the leg irons",
        errorSlide.copyOf("Incorrect2")
      )
      choice("Remove the leg irons before attempting your escape", slide4)
    }

    val slide2 =
      slide(2, "2nd Decision", decision2Text) {
        choice(
          "Try and survive in the woods hoping to avoid contact with people who might wish you harm",
          errorSlide.copyOf("Incorrect1")
        )
        choice("Travel by night, staying close to the roads and using them as navigation", slide3)
        choice("Look for someone traveling by road and ask them for assistance", errorSlide.copyOf("Incorrect2"))
      }

    val slide1 = slide(1, "1st Decision", decision1Text) {
      choice(
        "Head back to the slave quarters and take your chances the rumor was false",
        errorSlide.copyOf("Incorrect1")
      )
      choice("Run away right now", slide2)
      choice("Wait until the night to escape", errorSlide.copyOf("Incorrect2"))
    }

    slide(0, "Introduction", introductionPage, root = true) {
      choice("Continue", slide1)
    }
  }
